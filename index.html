<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>IDRISIUM IDEAS - منصة الأفكار المصرية</title>

    <!-- Meta Tags -->
    <meta name="description" content="منصة IDRISIUM IDEAS - شارك أفكارك، ابنِ مستقبلك.">
    <meta name="theme-color" content="#000000">
    <link rel="icon" type="image/png" href="ideas.png">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;800&family=Inter:wght@400;600;700&display=swap"
        rel="stylesheet">

    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

    <!-- Styles -->
    <link rel="stylesheet" href="forge-utility.css?v=7">
    <link rel="stylesheet" href="styles.css?v=7">

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.2/dist/confetti.browser.min.js"></script>
</head>

<body>
    <!-- Aurora Background -->
    <div class="aurora-bg">
        <div class="aurora-orb aurora-orb-1"></div>
        <div class="aurora-orb aurora-orb-2"></div>
        <div class="aurora-orb aurora-orb-3"></div>
    </div>

    <!-- Header -->
    <header class="site-header">
        <div class="header-container">
            <div class="header-top">
                <div class="header-brand">
                    <div class="header-logo">
                        <img src="ideas.png" alt="IDRISIUM Logo">
                    </div>
                    <div class="header-title">
                        <h1>IDRISIUM IDEAS</h1>
                        <p class="header-subtitle">منصة الأفكار والابتكار</p>
                    </div>
                </div>

                <div id="authSection">
                    <!-- Auth content injected by JS -->
                </div>
            </div>

            <div class="header-stats">
                <div class="stat-badge">
                    <i class="fa-solid fa-lightbulb"></i>
                    <span class="stat-value" id="statTotalIdeas">0</span>
                    <span class="stat-label">أفكار</span>
                </div>
                <div class="stat-badge">
                    <i class="fa-solid fa-users"></i>
                    <span class="stat-value" id="statOnlineNow">0</span>
                    <span class="stat-label">متواجدون الآن</span>
                </div>
                <div class="stat-badge">
                    <i class="fa-solid fa-chart-line"></i>
                    <span class="stat-value" id="statTotalVisitors">0</span>
                    <span class="stat-label">زوار الموقع</span>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Login Prompt -->
        <section id="loginPrompt" class="login-card glass-card hidden">
            <div class="login-icon">
                <i class="fa-solid fa-shield-halved"></i>
            </div>
            <h2>سجل دخولك يا بطل</h2>
            <p>سجل دخولك عشان تقدر تشارك أفكارك وتتفاعل مع المجتمع</p>
            <button onclick="signInWithGoogle()" class="google-btn">
                <svg width="20" height="20" viewBox="0 0 48 48">
                    <path fill="#FFC107"
                        d="M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z" />
                </svg>
                تسجيل الدخول بجوجل
            </button>
        </section>

        <!-- Submit Section -->
        <section id="submitSection" class="submit-card glass-card hidden">
            <div class="submit-header">
                <div class="submit-title-row">
                    <h3>اصنع فكرتك</h3>
                    <p>حول خيالك لواقع ملموس</p>
                </div>
            </div>

            <form id="ideaForm" class="submit-form" onsubmit="submitIdea(event)">
                <div class="form-group">
                    <label for="ideaTitle">
                        <i class="fa-solid fa-heading"></i>
                        عنوان الفكرة <span class="required">*</span>
                    </label>
                    <input type="text" id="ideaTitle" placeholder="مثلاً: تطبيق لتنظيم الوقت بطريقة ذكية"
                        maxlength="100" required>
                    <div class="input-hint">
                        <span>خلي العنوان جذاب وقصير</span>
                        <span><span id="titleCount">0</span>/100</span>
                    </div>
                </div>

                <div class="form-group">
                    <label for="authorName">
                        <i class="fa-solid fa-user-tag"></i>
                        اسمك المستعار <span class="required">*</span>
                    </label>
                    <input type="text" id="authorName" placeholder="اكتب اسمك اللي هيظهر للناس" maxlength="30" required>
                </div>

                <div class="form-group">
                    <label for="ideaDescription">
                        <i class="fa-solid fa-align-right"></i>
                        وصف الفكرة بالتفصيل <span class="required">*</span>
                    </label>
                    <textarea id="ideaDescription"
                        placeholder="اشرح فكرتك بالتفصيل، إيه المشكلة اللي بتحلها؟ وإزاي هتشتغل؟" rows="5"
                        maxlength="1000" required></textarea>
                    <div class="input-hint">
                        <span>استخدم Markdown للتنسيق (اختياري)</span>
                        <span><span id="descCount">0</span>/1000</span>
                    </div>
                </div>

                <div id="duplicateSuggestions" class="suggestions-box hidden">
                    <div class="suggestions-header">
                        <i class="fa-solid fa-wand-magic-sparkles"></i>
                        <span>أفكار مشابهة موجودة فعلاً:</span>
                    </div>
                    <div id="duplicateSuggestionsList" class="flex flex-col gap-2">
                        <!-- Suggestions injected by JS -->
                    </div>
                </div>

                <div class="form-actions justify-end">
                    <button type="submit" id="submitBtn" class="btn-submit pulse-glow w-full sm:w-auto justify-center">
                        <i class="fa-solid fa-bolt"></i>
                        اصنع الفكرة الآن
                    </button>
                </div>
            </form>
            </form>
        </section>

        <!-- Feed Controls -->
        <div class="feed-controls flex items-center justify-center mb-6 gap-4 flex-wrap">
            <div class="flex items-center gap-2 bg-white/5 p-1 rounded-xl border border-white/10">
                <button id="tabTop" onclick="switchTab('top')"
                    class="px-4 py-2 rounded-lg text-sm transition-all active">الأفضل</button>
                <button id="tabNew" onclick="switchTab('new')"
                    class="px-4 py-2 rounded-lg text-sm transition-all">الأحدث</button>
            </div>
        </div>

        <!-- Ideas Feed -->
        <div id="feedTop" class="ideas-feed">
            <!-- Skeletons -->
            <div class="skeleton-card glass-card">
                <div class="skeleton-content">
                    <div class="skeleton skeleton-title"></div>
                    <div class="skeleton skeleton-text"></div>
                    <div class="skeleton skeleton-text short"></div>
                </div>
            </div>
        </div>
        <div id="feedNew" class="ideas-feed hidden"></div>

        <!-- Empty State -->
        <div id="emptyState" class="empty-state hidden">
            <div class="empty-icon">
                <i class="fa-solid fa-rocket"></i>
            </div>
            <h3>مفيش أفكار لسه!</h3>
            <p>كُن أول واحد يشارك فكرته</p>
            <div class="empty-features">
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="site-footer">
        <p class="footer-motto">"مفيش قلب.. في بس تلاجه"</p>
        <div class="footer-social">
            <a href="https://github.com/IDRISIUM" target="_blank" title="GitHub"><i class="fa-brands fa-github"></i></a>
            <a href="https://tiktok.com/@idris.ghamid" target="_blank" title="TikTok"><i
                    class="fa-brands fa-tiktok"></i></a>
            <a href="https://instagram.com/idris.ghamid" target="_blank" title="Instagram"><i
                    class="fa-brands fa-instagram"></i></a>
            <a href="https://t.me/IDRV72" target="_blank" title="Telegram"><i class="fa-brands fa-telegram"></i></a>
        </div>
        <div class="footer-credits">
            <p>تم التطوير بواسطة <span class="neon">إدريس غامد</span></p>
            <p class="small">جميع الحقوق محفوظة لشركة <span class="gradient-text">IDRISIUM Corp.</span> &copy; 2024</p>
            <p class="small"><a href="http://idrisium.linkpc.net/" target="_blank"
                    class="text-platinum/60 hover:text-neon">idrisium.linkpc.net</a></p>
        </div>
    </footer>

    <!-- Modals -->
    <div id="profileModal" class="modal-overlay hidden">
        <div class="modal-card profile-modal">
            <button onclick="closeProfile()" class="modal-close"><i class="fa-solid fa-xmark"></i></button>
            <div class="profile-header">
                <div class="profile-avatar">
                    <img id="profileAvatar" src="" alt="Avatar">
                </div>
                <h2 id="profileName">اسم المستخدم</h2>
                <p id="profileEmail">user@example.com</p>
            </div>
            <div class="profile-stats">
                <div class="profile-stat">
                    <span class="stat-number" id="profileIdeaCount">0</span>
                    <span class="stat-label">فكرة منشورة</span>
                </div>
            </div>
            <button onclick="signOutUser()" class="btn-signout">
                <i class="fa-solid fa-right-from-bracket"></i>
                تسجيل الخروج
            </button>
        </div>
    </div>

    <!-- Scripts -->
    <script type="module" src="app.js?v=7"></script>
</body>

</html>